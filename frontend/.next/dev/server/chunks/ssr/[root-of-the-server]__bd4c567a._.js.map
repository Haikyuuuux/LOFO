{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/haiko/OneDrive/Desktop/lostandfound/lostandfound/frontend/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nconst mockUseRouter = () => ({\r\n    push: (path: string) => {\r\n        console.log(`[Router Mock] Navigating to: ${path}`);\r\n    },\r\n});\r\nconst useRouter = mockUseRouter;\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:5000\";\r\n\r\nfunction Notification({ message, type }: { message: string, type: 'success' | 'error' | 'info' }) {\r\n    if (!message) return null;\r\n    const baseClasses = \"p-3 rounded-lg text-sm mb-4 font-semibold shadow-md\";\r\n    const colorClasses = type === 'success' ? \"bg-green-100 text-green-800\" :\r\n                         type === 'error' ? \"bg-red-100 text-red-800\" :\r\n                         \"bg-blue-100 text-blue-800\";\r\n    \r\n    return (\r\n        <div className={`${baseClasses} ${colorClasses}`}>\r\n            {message}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function LoginPage() {\r\n    const [mode, setMode] = useState<\"login\" | \"register\">(\"login\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n    const [messageType, setMessageType] = useState<'success' | 'error' | 'info'>('info');\r\n\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setMessage(\"\");\r\n\r\n        const endpoint = mode === \"login\" ? \"/auth/login\" : \"/auth/register\";\r\n        const payload = mode === \"login\" \r\n            ? { email, password }\r\n            : { username, email, password };\r\n        \r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(payload),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.message || `API error (${response.status})`);\r\n            }\r\n\r\n            if (mode === \"login\") {\r\n                if (typeof data.token === 'string') {\r\n                    localStorage.setItem(\"token\", data.token);\r\n                    setMessage(\"Login successful! Redirecting...\");\r\n                    setMessageType('success');\r\n                    setTimeout(() => router.push(\"/\"), 1000);\r\n                } else {\r\n                    throw new Error(\"Login failed: Token not received from server.\");\r\n                }\r\n            } else {\r\n                setMessage(\"Account created successfully! Please log in.\");\r\n                setMessageType('success');\r\n                setMode(\"login\");\r\n            }\r\n        } catch (err: any) {\r\n            const errorMsg = err.message || `A network or server error occurred.`;\r\n            setMessage(errorMsg);\r\n            setMessageType('error');\r\n        }\r\n    };\r\n\r\n    const isLoginMode = mode === \"login\";\r\n\r\n    return (\r\n        <div className=\"flex justify-center items-center min-h-screen p-4 \r\n                        bg-linear-to-br from-green-50 via-gray-50 to-pink-50\">\r\n            \r\n            <form\r\n                onSubmit={handleSubmit}\r\n                className=\"bg-white p-8 sm:p-10 rounded-xl shadow-2xl w-full max-w-sm transition-all duration-300\"\r\n            >\r\n                <div className=\"flex justify-between items-center mb-6 border-b pb-4\">\r\n                    <h1 className=\"text-3xl font-extrabold text-gray-800\">\r\n                        {isLoginMode ? \"Welcome Back\" : \"Create Account\"}\r\n                    </h1>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setMode(isLoginMode ? \"register\" : \"login\")}\r\n                        className=\"text-sm text-gray-500 hover:text-green-600 font-semibold transition\"\r\n                    >\r\n                        {isLoginMode ? \"Need an account?\" : \"Already registered?\"}\r\n                    </button>\r\n                </div>\r\n\r\n                <Notification message={message} type={messageType} />\r\n\r\n                <div className=\"space-y-4\">\r\n                    {!isLoginMode && (\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            className=\"w-full border-2 border-gray-200 p-3 rounded-lg focus:ring-green-500 focus:border-green-500 transition\"\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required={!isLoginMode}\r\n                        />\r\n                    )}\r\n                    \r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"w-full border-2 border-gray-200 p-3 rounded-lg focus:ring-green-500 focus:border-green-500 transition\"\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        required\r\n                    />\r\n                    \r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        className=\"w-full border-2 border-gray-200 p-3 rounded-lg focus:ring-green-500 focus:border-green-500 transition\"\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        required\r\n                    />\r\n                    \r\n                    <button\r\n                        type=\"submit\"\r\n                        className={`w-full p-3 mt-4 text-white rounded-lg font-bold text-lg \r\n                            shadow-md transition-all duration-300 transform hover:scale-[1.01]\r\n                            ${isLoginMode \r\n                                ? \"bg-red-600 hover:bg-red-700 shadow-red-300/50\" \r\n                                : \"bg-green-600 hover:bg-green-700 shadow-green-300/50\"\r\n                            }`\r\n                        }\r\n                    >\r\n                        {isLoginMode ? \"Login to I FOUND\" : \"Register and Join\"}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/haiko/OneDrive/Desktop/lostandfound/lostandfound/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/haiko/OneDrive/Desktop/lostandfound/lostandfound/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/haiko/OneDrive/Desktop/lostandfound/lostandfound/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}